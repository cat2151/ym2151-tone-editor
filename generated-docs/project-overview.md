Last updated: 2025-12-06

# Project Overview

## プロジェクト概要
- YM2151 FM音源の音色パラメータを直感的に編集できるWindows向けターミナルユーザーインターフェース (TUI) アプリケーションです。
- Rustで開発されており、リアルタイムな音声フィードバックを通じて、編集した音色の変化を即座に確認できます。
- マウスやキーボード操作で手軽に音色調整を行い、音作りを楽しむためのシンプルなツールとして設計されています。

## 技術スタック
- フロントエンド: `ratatui` (ターミナルユーザーインターフェース (TUI) の構築に使用されるRustのフレームワーク)、`crossterm` (クロスプラットフォームなターミナル操作を可能にするRustライブラリ)
- 音楽・オーディオ: `ym2151-log-play-server` (Windows上でリアルタイム音声フィードバックを提供するサーバーライブラリ)、`mmlabc-to-smf-rust` (MML形式からSMF形式への変換ライブラリ)、`smf-to-ym2151log-rust` (SMF形式からYM2151ログ形式への変換ライブラリ)
- 開発ツール: 該当なし
- テスト: 該当なし (Rust標準のテスト機能を使用していると推測されますが、特定のテストフレームワークの記載はありません)
- ビルドツール: `cargo` (Rustの公式パッケージマネージャーおよびビルドシステム)
- 言語機能: Rust (安全性、パフォーマンス、並行処理に重点を置いたシステムプログラミング言語)
- 自動化・CI/CD: 該当なし
- 開発標準: 該当なし (特定のツールや規約の記載はありません)

## ファイル階層ツリー
```
📄 .gitignore
📄 Cargo.lock
📄 Cargo.toml
📄 LICENSE
📖 README.ja.md
📖 README.md
📄 _config.yml
📁 docs/
  📖 KEYBINDS.ja.md
📁 generated-docs/
🌐 googled947dc864c270e07.html
📁 issue-notes/
  📖 100.md
  📖 101.md
  📖 102.md
  📖 103.md
  📖 104.md
  📖 105.md
  📖 106.md
  📖 107.md
  📖 108.md
  📖 109.md
  📖 110.md
  📖 111.md
  📖 112.md
  📖 113.md
  📖 114.md
  📖 115.md
  📖 116.md
  📖 130.md
  📖 134.md
  📖 136.md
  📖 138.md
  📖 139.md
  📖 141.md
  📖 95.md
  📖 96.md
  📖 97.md
  📖 99.md
📁 src/
  📄 app.rs
  📄 app_init.rs
  📄 audio.rs
  📄 config.rs
  📄 file_ops.rs
  📄 main.rs
  📄 midi_conversion.rs
  📄 models.rs
  📄 register.rs
  📁 tests/
    📄 app_tests.rs
    📄 file_ops_tests.rs
    📄 midi_conversion_tests.rs
    📄 mod.rs
    📄 register_tests.rs
    📄 ui_tests.rs
    📄 variation_selector_tests.rs
    📄 verbose_logging_tests.rs
  📄 ui.rs
  📄 variation_selector.rs
📁 tones/
  📁 general_midi/
    📊 000_AcousticGrand.json
    📊 tone_names.json
📄 ym2151-tone-editor.toml.example
```

## ファイル詳細説明
-   **`.gitignore`**: Gitによるバージョン管理から除外するファイルやディレクトリを指定します。
-   **`Cargo.lock`**: Rustプロジェクトの依存関係の正確なバージョンを記録し、ビルドの一貫性を保証します。
-   **`Cargo.toml`**: Rustプロジェクトのメタデータ（名前、バージョン、依存関係など）と設定を定義するマニフェストファイルです。
-   **`LICENSE`**: プロジェクトのライセンス情報（例: MITライセンス）を記載しています。
-   **`README.ja.md`**: プロジェクトの日本語版の概要、機能、使い方などを説明するドキュメントです。
-   **`README.md`**: プロジェクトの英語版の概要、機能、使い方などを説明するドキュメントです。
-   **`_config.yml`**: Jekyllなどの静的サイトジェネレーターで使用される設定ファイルと推測されます。
-   **`docs/`**: ドキュメントを格納するディレクトリです。
    -   **`KEYBINDS.ja.md`**: アプリケーションのキーバインド（操作方法）に関する日本語の説明ドキュメントです。
-   **`generated-docs/`**: 自動生成されたドキュメントを格納するためのディレクトリと推測されます。
-   **`googled947dc864c270e07.html`**: Googleサイト認証などの目的で使用される可能性のあるHTMLファイルです。
-   **`issue-notes/`**: 開発中の課題や検討事項に関するメモが格納されているディレクトリです。（※来訪者向けのため、個別の内容は省略しています）
-   **`src/`**: プロジェクトの主要なソースコードが格納されているディレクトリです。
    -   **`app.rs`**: アプリケーションのメインロジック、状態管理、イベント処理などを定義します。
    -   **`app_init.rs`**: アプリケーションの初期設定や起動時に必要な処理を記述します。
    -   **`audio.rs`**: リアルタイム音声フィードバックを含む、オーディオ関連の機能とYM2151ログサーバーとの連携を扱います。
    -   **`config.rs`**: アプリケーションの設定（例: キーバインドなど）の読み込み、解析、管理を行います。
    -   **`file_ops.rs`**: 音色データの保存、ロードなど、ファイルシステムへのアクセスや操作を処理します。
    -   **`main.rs`**: プログラムのエントリポイントであり、アプリケーションの初期化とメインループを開始します。
    -   **`midi_conversion.rs`**: MIDI関連のデータ形式変換や処理ロジックを提供します。
    -   **`models.rs`**: アプリケーション内で使用されるデータ構造（例: YM2151音色パラメータ、設定など）を定義します。
    -   **`register.rs`**: YM2151音源のレジスタ操作に関するロジックを扱います。
    -   **`src/tests/`**: 各モジュールの単体テストコードが格納されています。
        -   **`app_tests.rs`**: `app.rs`の機能に対するテストです。
        -   **`file_ops_tests.rs`**: ファイル操作に関するテストです。
        -   **`midi_conversion_tests.rs`**: MIDI変換機能に関するテストです。
        -   **`mod.rs`**: テストモジュールを定義するファイルです。
        -   **`register_tests.rs`**: YM2151レジスタ操作に関するテストです。
        -   **`ui_tests.rs`**: ユーザーインターフェース (TUI) の表示や操作に関するテストです。
        -   **`variation_selector_tests.rs`**: 音色バリエーション選択機能に関するテストです。
        -   **`verbose_logging_tests.rs`**: 詳細ログ出力に関するテストです。
    -   **`ui.rs`**: ターミナルユーザーインターフェース (TUI) の描画ロジック、各要素の配置、スタイリングなどを担当します。
    -   **`variation_selector.rs`**: 音色バリエーションを管理し、ユーザーが選択・切り替えできるようにする機能を提供します。
-   **`tones/`**: 音色データが格納されるディレクトリです。
    -   **`general_midi/`**: General MIDI互換の音色データが格納されるディレクトリです。
        -   **`000_AcousticGrand.json`**: アコースティックグランドピアノの音色データ（JSON形式）です。
        -   **`tone_names.json`**: 音色の名前リスト（JSON形式）です。
-   **`ym2151-tone-editor.toml.example`**: アプリケーションの設定ファイル（TOML形式）の例で、ユーザーがキーバインドなどをカスタマイズする際の参考となります。

## 関数詳細説明
提供されたプロジェクト情報からは、個々の関数の具体的な詳細（引数、戻り値、具体的な処理内容）を特定することはできませんでした。
一般的なRustアプリケーションでは、以下のような役割を持つ関数が存在すると考えられます。

-   **`main`関数**: プログラムのエントリポイントであり、アプリケーションの初期化、メインループの実行、終了処理を制御します。
-   **UI関連関数**: ターミナルUIの描画、イベントハンドリング（キー入力、マウス操作）、画面更新などを担当します。
-   **オーディオ関連関数**: YM2151ログサーバーとの通信、音色プレビューのための音声再生、パラメータ送信などを処理します。
-   **ファイル操作関数**: 音色データの読み込み、保存、設定ファイルのロードなどを実行します。
-   **データ処理関数**: YM2151音色パラメータの解析、更新、MIDIデータとの変換などを担当します。
-   **ヘルパー関数**: 特定の小さなタスクを実行し、コードの再利用性と可読性を高めます。

これらの関数は、プロジェクトの各モジュール（例: `app.rs`, `ui.rs`, `audio.rs`, `file_ops.rs`など）に分散して定義されていると推測されます。

## 関数呼び出し階層ツリー
```
関数呼び出し階層はプロジェクト情報からは分析できませんでした。

---
Generated at: 2025-12-06 07:08:44 JST
