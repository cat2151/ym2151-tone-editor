Last updated: 2025-12-13

# Development Status

## 現在のIssues
- [Issue #172](../issue-notes/172.md) および [Issue #173](../issue-notes/173.md) は、ADSRと同様にCH行のALGとFBパラメータにもキーガイドを表示する対応を進めています。
- [Issue #167](../issue-notes/167.md) は、プレビュー再生時のkeyoffノイズに関するもので、効率的なデバッグのために専用JSONエディタの開発が検討されています。
- [Issue #155](../issue-notes/155.md) は、製品のドッグフーディングを通じて、潜在的な改善点やバグを発見することを目的としています。

## 次の一手候補
1. [Issue #172](../issue-notes/172.md) / [Issue #173](../issue-notes/173.md): ALGとFBのキーガイド表示の実装状況確認と最終デバッグ
   - 最初の小さな一歩: `src/ui.rs` 内でALGとFBのキーガイド表示に関連するコードを特定し、ADSRのガイド表示実装と比較して、期待通りに動作するか静的コードレビューを行う。
   - Agent実行プロンプト:
     ```
     対象ファイル: src/ui.rs

     実行内容: src/ui.rsファイル内の `draw_ch_row` 関数および、ALGとFBパラメータのキーガイド表示に関連するロジックを分析してください。特に、[Issue #172](../issue-notes/172.md) / [Issue #173](../issue-notes/173.md) で言及されているADSRパラメータのガイド表示方法と比較し、ALGとFBにも同様のガイドが表示されるようになっているか、またはそのための準備が整っているかを評価してください。

     確認事項:
     - 関連するキーガイド描画関数や変数。
     - カーソル位置によってガイド表示が適切に切り替わるロジック。
     - ADSRのガイド表示実装との整合性。

     期待する出力:
     - `src/ui.rs` におけるALGとFBのキーガイド表示の実装状況に関する詳細な分析結果をmarkdown形式で出力してください。
     - 具体的には、どの部分がガイド表示を担っており、[Issue #172](../issue-notes/172.md) の要件を完全に満たしているか、あるいは追加の修正が必要かについて記述してください。
     - もし追加の修正が必要な場合、具体的な修正案を提示してください。
     ```

2. [Issue #167](../issue-notes/167.md): プレビュー再生時のプチノイズ問題の最小再現ケースの特定
   - 最初の小さな一歩: 既存の`src/audio.rs`と`src/midi_conversion.rs`をレビューし、keyoff処理や音色の初期化/リセットロジックを確認して、プチノイズ発生のメカニズムに関する仮説を立てる。
   - Agent実行プロンプト:
     ```
     対象ファイル: src/audio.rs, src/midi_conversion.rs

     実行内容: [Issue #167](../issue-notes/167.md) で報告されている「プレビュー再生時のkeyoffプチノイズ」について、src/audio.rsの音源制御ロジックとsrc/midi_conversion.rsのMIDIイベント変換ロジックを分析してください。特に、KeyOff処理、エンベロープのリセット、または音源の状態遷移に関連する部分に着目し、ノイズが発生しうる原因を特定する手掛かりを探してください。

     確認事項:
     - KeyOff時に、すべてのオペレータの出力が適切にゼロに減衰しているか。
     - 次のKeyOnまでに、音源が完全にリセットまたは準備されているか。
     - 特定の音色（例：slow attack）でのみ問題が発生する理由の可能性。

     期待する出力:
     - プチノイズ発生の原因となりうるコード上の箇所と、それに関する仮説をmarkdown形式で出力してください。
     - 問題の再現性を高めるための具体的な音色設定や再生手順の提案を含めてください。
     ```

3. UIテストカバレッジの確認と拡充
   - 最初の小さな一歩: `src/tests/ui_tests.rs` ファイルを分析し、特に最近追加されたUI要素（ALG/FBガイド表示など）が既存のテストでカバーされているかを確認する。
   - Agent実行プロンプト:
     ```
     対象ファイル: src/tests/ui_tests.rs, src/ui.rs

     実行内容: src/tests/ui_tests.rsが、最近のUI変更（特に[Issue #172](../issue-notes/172.md) / [Issue #173](../issue-notes/173.md) でのALGとFBのキーガイド表示など）を適切にカバーしているかを分析してください。具体的には、src/ui.rsで実装されている主要なUI表示ロジック（特にキーガイド、カーソル移動による表示変更）に対応するテストケースが存在するかを確認し、テストカバレッジが不足している部分を特定してください。

     確認事項:
     - `draw_ch_row` 関数など、UI描画の重要な部分に対するテストの有無。
     - カーソル位置による表示の変化がテストされているか。
     - キーガイドの表示/非表示ロジックが検証されているか。

     期待する出力:
     - `src/tests/ui_tests.rs` の現状のUIテストカバレッジに関する詳細な分析結果をmarkdown形式で出力してください。
     - テストが不足していると判断される箇所について、具体的な新しいテストケースの提案（テスト関数名、テスト対象のUI要素/ロジック）を記述してください。

---
Generated at: 2025-12-13 07:08:54 JST
