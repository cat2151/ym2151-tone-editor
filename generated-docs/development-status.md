Last updated: 2025-11-26

# Development Status

## 現在のIssues
- [Issue #115](../issue-notes/115.md) は、slow attack音色が仮想MIDI鍵盤で連続preview時に継続する問題を、D2R=15でのkey offと待機時間調整で解決します。
- [Issue #112](../issue-notes/112.md) は、ALG7選択時に発生するアプリクラッシュを、ALG表示高さと仮想MIDI鍵盤Y座標の範囲外アクセスを修正することで対処します。
- [Issue #114](../issue-notes/114.md) および関連するキーバインド改善 ([Issue #105](../issue-notes/105.md)から[Issue #111](../issue-notes/111.md)) は、カーソルジャンプ可能な項目の左隣に操作ガイドを表示し、特定のパラメータをキーで操作できるようにすることでUIの使いやすさを向上させます。

## 次の一手候補
1. [Issue #115](../issue-notes/115.md): AR 1のslow attack音色継続問題の修正
   - 最初の小さな一歩: `src/midi_conversion.rs`を修正し、MIDI送信JSONにおいて、key offの前にD2R=15を追加し、key off後の待機時間を0.005秒に設定する。
   - Agent実行プロンプ:
     ```
     対象ファイル: `src/midi_conversion.rs`

     実行内容: `issue-notes/115.md`に記載されている「対策案」に基づき、`src/midi_conversion.rs`内のMIDIメッセージ送信ロジックを修正してください。具体的には、AR 1のslow attack音色において、MIDIノートオフ（key off）メッセージの前にD2R=15のレジスタ設定を追加し、key offメッセージ後に数ミリ秒（例: 0.005秒）の待機時間を挿入してください。

     確認事項: YM2151のエンベロープ挙動に関する仕様（特にリリース後のエンベロープ振幅維持）を考慮し、既存のMIDIノート処理フローや他の音色への影響がないことを確認してください。また、追加する待機時間がアプリのパフォーマンスに悪影響を与えないかについても考慮してください。

     期待する出力: 修正された`src/midi_conversion.rs`ファイル。変更箇所とその理由をMarkdown形式で説明してください。
     ```

2. [Issue #112](../issue-notes/112.md): ALG7選択時のアプリクラッシュ修正
   - 最初の小さな一歩: `src/ui.rs`内のALG表示ロジックと仮想MIDI鍵盤の描画ロジックを分析し、ALG7選択時にUI要素が画面範囲外にはみ出していないか、特にY座標計算に問題がないかを特定する。
   - Agent実行プロンプ:
     ```
     対象ファイル: `src/ui.rs`, `src/app.rs` (必要に応じて)

     実行内容: `issue-notes/112.md`に記載されているALG7選択時のアプリクラッシュの原因（ALG表示heightが高いこと、仮想MIDI鍵盤y座標のout of range考慮漏れ）を特定するため、`src/ui.rs`のUI描画ロジックと`src/app.rs`のUI更新ロジックを分析してください。特に、ALG7選択時のALGブロックの描画高さ、およびそれに伴う仮想MIDI鍵盤の描画Y座標計算ロジックに焦点を当て、画面外アクセスが発生する可能性のある箇所を洗い出してください。

     確認事項: 他のALG設定時やUI要素の配置に予期せぬ影響を与えないことを確認してください。また、修正がUI全体のレイアウトやレスポンシブデザインに与える影響も考慮してください。

     期待する出力: ALG7選択時のクラッシュ原因を特定した分析レポート（Markdown形式）と、問題解決のための具体的なコード修正案（`src/ui.rs`と関連ファイルの変更点）を提示してください。
     ```

3. [Issue #114](../issue-notes/114.md): カーソルジャンプ可能な項目のキーガイド表示
   - 最初の小さな一歩: `src/ui.rs`内のUI描画ロジックと、カーソル位置を管理するロジックを調査し、現在フォーカスされているUI要素の左隣にキーガイドを表示するための適切な描画ポイントとデータを特定する。
   - Agent実行プロンプ:
     ```
     対象ファイル: `src/ui.rs`, `src/config.rs`, `docs/KEYBINDS.ja.md`

     実行内容: `issue-notes/114.md`に記載されている「カーソルジャンプできる項目の左隣に押すキーのガイドを表示する」機能を実装するための計画を立ててください。`src/ui.rs`のUI描画ロジックを分析し、現在フォーカスされているUI要素（例: A, D, S, Rキーで操作できる項目）を特定し、その左隣に該当するキーバインドを表示するための描画ロジックの追加方法を検討してください。キーバインド情報の取得元として、`src/config.rs`または`docs/KEYBINDS.ja.md`の利用を考慮してください。

     確認事項: 新しいキーガイド表示が既存のUIレイアウトを崩さないこと、および他のキーバインド関連のイシュー（[Issue #105](../issue-notes/105.md)から[Issue #111](../issue-notes/111.md)）と整合性が取れるように設計されていることを確認してください。また、キーバインド情報が動的に変更された場合に、ガイドも適切に更新されるような柔軟性も考慮してください。

     期待する出力: キーガイド表示機能の実装計画（Markdown形式）と、`src/ui.rs`および関連ファイルへの具体的な変更提案。
     ```

---
Generated at: 2025-11-26 07:08:38 JST
