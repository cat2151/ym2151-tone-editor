Last updated: 2025-12-11

# Development Status

## 現在のIssues
- [Issue #167](../issue-notes/167.md) は、プレビュー時のキーオフノイズ問題に対し、音色イベントを視覚的に編集できる新しいJSONエディタツール開発の必要性を提起しています。
- [Issue #166](../issue-notes/166.md) と [Issue #165](../issue-notes/165.md) は、カーソル位置に応じてオペレーター番号や操作ガイドを継続的に表示することで、UIの操作性を向上させることを目指しています。
- さらに、[Issue #164](../issue-notes/164.md) ではコンパイルウォーニングをビルドエラーとして扱うべきかどうかの検証が求められています。

## 次の一手候補
1. [Issue #167](../issue-notes/167.md) プレビュー時のノイズ問題解決に向けたJSONエディタツールの初期検討
   - 最初の小さな一歩: `issue-notes/167.md` に記載されている「jsonを作って再生してプチノイズが乗るかを確認する」というテストケースを効率化するための、簡易的なJSONデータ生成・編集アプローチに関する調査またはプロトタイプスクリプトの検討を開始する。
   - Agent実行プロンプト:
     ```
     対象ファイル: `src/audio.rs`, `src/midi_conversion.rs`, `issue-notes/167.md`, `tones/general_midi/000_AcousticGrand.json`

     実行内容: `issue-notes/167.md` に記載されているプレビューノイズの検証を効率化するため、音色データのJSON構造（例: `tones/general_midi/000_AcousticGrand.json`）を基に、簡単な音符列とエンベロープ情報を表現できるJSONデータ生成・編集スクリプトの初期設計を検討してください。`src/midi_conversion.rs` がMIDIイベントをYM2151のレジスタ値に変換するロジックをどのように扱っているか、`src/audio.rs` が再生にどのように関わっているかを分析し、テストケースを自動化するための具体的なアプローチを提案してください。

     確認事項: `src/midi_conversion.rs` のMIDIイベント処理とYM2151レジスタ変換ロジック、`tones/general_midi/*.json` ファイルの構造、およびノイズ発生を再現するための最小限のJSONデータ表現方法を理解すること。

     期待する出力: `#167` のノイズ検証を効率化するための、JSONベースの音色イベントシーケンスを生成・編集するアプローチに関する調査結果と、その最初の実装ステップ（スクリプトの概要、必要なライブラリ、JSONスキーマの簡単な提案など）をmarkdown形式で出力してください。
     ```

2. [Issue #165](../issue-notes/165.md) カーソル列に応じたオペレーター操作ガイドの表示
   - 最初の小さな一歩: `src/ui.rs` 内でADSRガイドが表示されているロジックを特定し、現在のカーソル位置（特に列）を取得する方法と、その列に対応する「1」〜「4」のオペレーターガイドを表示する場所を検討する。
   - Agent実行プロンプト:
     ```
     対象ファイル: `src/ui.rs`, `src/app.rs`, `src/config.rs`

     実行内容: `src/ui.rs` 内でADSRガイドが表示されている箇所を特定し、現在のカーソル位置情報（特に編集対象のパラメータ列）に基づいて「1」〜「4」のオペレーターガイドを表示する機能の実装計画を立ててください。`src/app.rs` や `src/config.rs` でUIの状態管理やカーソル位置がどのように扱われているかを分析し、必要なデータ構造や描画ロジックの変更点を洗い出してください。ガイドの表示は既存のUI要素（特にオペレーターパラメータの表示領域）と重ならないように考慮し、視認性を確保するアプローチを提案してください。

     確認事項: ADSRガイドの描画ロジックと関連するデータ、現在のカーソルの列位置を取得するUIの状態管理方法、オペレーターパラメータの表示座標とサイズ。

     期待する出力: オペレーター操作ガイド表示機能の設計案と、`src/ui.rs` における具体的なコード変更の概要（既存の描画関数への追加、新しい描画ヘルパー関数など）をmarkdown形式で出力してください。
     ```

3. [Issue #164](../issue-notes/164.md) コンパイルウォーニングをエラーとして扱うかどうかの検証
   - 最初の小さな一歩: `Cargo.toml` または `.cargo/config.toml` に `deny(warnings)` 設定を一時的に追加し、プロジェクトのビルドを試行して、既存のコンパイルウォーニングがエラーとして検出されるかを確認する。
   - Agent実行プロンプト:
     ```
     対象ファイル: `Cargo.toml`, プロジェクトルートの `.cargo/config.toml` (存在しない場合は新規作成を検討), `.github/workflows/rust-test.yml`

     実行内容: Rustプロジェクトのビルド設定において、コンパイルウォーニングをエラーとして扱う (`deny(warnings)`) 設定の導入を検討してください。具体的には、`Cargo.toml` に `[profile.dev]` や `[profile.release]` セクションで `rustflags = ["-Dwarnings"]` を追加した場合、または `.cargo/config.toml` に `build.rustflags = ["-Dwarnings"]` を設定した場合に、現在のプロジェクトのビルドがどのような結果になるかを分析してください。現在のCI/CD (`.github/workflows/rust-test.yml`) でのビルドプロセスも考慮に入れてください。

     確認事項: プロジェクト内に存在する既存のコンパイルウォーニングの数と種類、CI/CDでRustのビルドとテストがどのように実行されているか、`Cargo.toml` の既存のプロファイル設定。

     期待する出力: `deny(warnings)` 設定を導入した場合のビルド結果の予測と、もし既存のウォーニングがエラーになる場合、それらを修正するための初期タスクリスト（例: 特定のウォーニングを許容するための `#[allow(warnings)]` の検討、またはコード修正の優先順位）をmarkdown形式で出力してください。
     ```

---
Generated at: 2025-12-11 07:09:13 JST
